<%#
Parameters
- resources - The SOLR object containing .results and metadata about a search. Returned by e.g. materials/index events/index
Globals
@facet_params
@query_params
%>

<!-- FILTERS APPLIED -->
<% @facet_params.each_with_index do |(category, value), i| %>
    <p>
      <b><%= (category == 'name' && params[:controller] == 'nodes') ? 'Node'.pluralize(value.kind_of?(Array) ? value.length : 1) : category.humanize %></b>:
      <% if value.is_a?(Array)%>
          <% value.each_with_index do |val, j| %>
              <span>
                <%= remove_filter_link(category, val, {:class =>"btn btn-default filter-button"})%>
                <% if j < value.size - 1 %>
                  or
                <% end %>
              </span>
          <% end %>
      <% else %>
          <span><%= remove_filter_link(category, value, {:class =>"btn btn-default filter-button"})%></span>
      <% end %>
    </p>
    <% if i < @facet_params.size - 1 %>
        <p>and</p>
    <% end %>
<% end %>

<%# The search term %>
<% unless params[:q].blank? %>
    <p>
      <b>Search query</b>:
      <span><%= remove_filter_link('q', params[:q], { class: "btn btn-default filter-button" })%></span>
    </p>
<% end %>
