<li class="masonry-brick media-item list long">
  <%= link_to material, class: 'link-overlay' do %>
    <div class="sub-heading"><%= display_attribute_no_label(material, :resource_type) { |values| values.join(', ') } %></div>

    <div class="masonry-brick-heading">
      <div class="masonry-icons">
        <% if current_user&.is_admin? %>
          <%= missing_icon(material) %>
          <%= scrape_status_icon(material) %>
          <%= suggestion_icon(material) %>
        <% end %>
      </div>
      <h4><%= material.title %></h4>
    </div>

    <div class="font-size-lg"><%= display_difficulty_level(material) %></div>

    <div class="markdown-description mt-2">
      <%= render_sanitized_markdown truncate(material.description, length: 300, separator: ' ') %>
    </div>

    <div class="row no-spacing">
      <div class="col-md-9 no-spacing">
        <%= display_attribute(material, :scientific_topics) { |values| values.map { |x| x.preferred_label }.join(', ') } %>
        <%= display_attribute(material, :operations) { |values| values.map { |x| x.preferred_label }.join(', ') } %>
        <%= display_attribute(material, :keywords) { |values| values.join(', ') } %>
      </div>

      <div class="col-md-3 no-spacing">
        <% if controller_name != 'content_providers' && material.content_provider %>
          <%= image_tag(material.content_provider.image.url, class: 'medium-avatar pull-right mt-3') %>
        <% end %>

        <% if material.has_node? -%>
          <%= image_tag 'elixir/elixir_logo_orange.png', alt: 'ELIXIR node event', title: 'ELIXIR node event', class: 'elixir-node-icon' %>
        <% end -%>
      </div>
    </div>
  <% end %>
</li>
