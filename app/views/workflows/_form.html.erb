<%= simple_form_for(@workflow) do |f| %>
    <div class="row">
      <div class="col-md-4 col-md-push-8">
        <%= render :partial => 'workflows/partials/general_workflow_info' %>
      </div>
      <div class="col-md-8 col-md-pull-4">
        <% if @workflow.errors.any? %>
            <div id="error_expl" class="panel panel-danger">
              <div class="panel-heading">
                <h3 class="panel-title"><%= pluralize(@workflow.errors.count, "error") %> prohibited this workflow from
                  being saved:</h3>
              </div>
              <div class="panel-body">
                <ul>
                  <% @workflow.errors.full_messages.each do |msg| %>
                      <li><%= msg %></li>
                  <% end %>
                </ul>
              </div>
            </div>
        <% end %>

        <div class="form-group">
          <%= f.label :title %><br />
          <%= f.text_field :title, :class => 'form-control' %>
        </div>
        <div class="form-group">
          <%= f.label :description %><br />
          <%= f.text_area :description, :class => 'form-control', :rows => '5' %>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <%= f.label :workflow_content %><br />
        <%= f.hidden_field :workflow_content  %>

        <%= render partial: 'workflows/workflow_diagram', locals: { workflow:  @workflow, editable: true } %>

        <div class="form-group actions">
          <%= f.submit ( f.object.new_record? ? "Create" : "Update") + " workflow", :class => 'btn btn-primary' %>
          <%= link_to 'Back', workflows_path, :class=>"btn btn-info" %>
          <%= link_to t('.cancel', :default => t("helpers.links.cancel")),
                      workflows_path, :class => 'btn btn-default' %>
        </div>
      </div>
    </div>
<% end %>
